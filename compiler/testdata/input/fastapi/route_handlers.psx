from fastapi import FastAPI, Request, Depends
from fastapi.responses import HTMLResponse

app = FastAPI()

@app.get("/")
view HomePage(request: Request):
    <html>
        <head>
            <title>Biscuit App</title>
        </head>
        <body>
            <h1>Welcome to Biscuit!</h1>
            <p>Hello, visitor from {request.client.host}</p>
            <a href="/about">About</a>
        </body>
    </html>

@app.get("/about")
view AboutPage():
    <div>
        <h1>About Us</h1>
        <p>This is a Biscuit application</p>
    </div>

@app.get("/products/{product_id}")
view ProductDetail(product_id: int):
    <div class="product">
        <h1>Product #{product_id}</h1>
        <p>Product details go here</p>
        <a href="/">Back to home</a>
    </div>